<!DOCTYPE html>

<html>
  <head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <script>

      var currentLine;
      var historyLines;
      var textLine;
      var executedRec = false;

      var check = function(){
        if (!executedRec) {
          textLine.toggle();
        }
        executedRec = false;
        setTimeout(check, 1000); // check again in a second
      }

      $(document).ready(function(){
          currentLine = $("#current_line");
          historyLines = $("#previous_line");
          textLine = $("#text_line");
          window.addEventListener("keypress", demo, false);
          check();
      });

      function demo(e){
          executedRec = true;
          textLine.show();
          var key = e.keyCode;
          if(key === 13){
            //enter
            executeCommand();
            currentLine.html(" ");
          }else{
            //letters
            currentLine.html(currentLine.html() + String.fromCharCode(key));
          }
          console.log(currentLine);
      };
      function executeCommand(){
        historyLines.html(historyLines.html() + '<div class="line"><div class="command"> /cniculae.github.io> </div>' + currentLine.html() + '</div>')
        if(currentLine.text().trim() !== ""){
          historyLines.html(historyLines.html() + '<div class="line"><div class="result"> Unknown command "'+currentLine.html().substring(1)+'" </div></div>');
        }
      }


    </script>

  </head>
  <body>
    <div class="container">
      <div class="name">
        Cristian Ioan Niculae
      </div>
      <div class="title">
        - 3rd year student at University of Southampton -
      </div>
      <div class="lines_content" id="previous_line" style="margin-top:5%">

        <div class="line"><div class="command"> /cniculae.github.io/status> </div> ./status_of_website.py</div>
        <div class="line"><div class="result"> 100%[====================================================]</div></div>
        <div class="line"><div class="result"> Result: Still in progress </div></div>
        <div class="line"><div class="result"> Please come back at a later time. </div></div>

      </div>
      <div class="lines_content">
        <div class="line"><div class="command"> /cniculae.github.io>&nbsp;</div><div id="current_line" style="display: inline-block"> </div><div id="text_line" style="display: inline-block">|</div></div>
      </div>
  </div>

  </body>
</html>
